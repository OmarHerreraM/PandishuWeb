<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6VQC13MZ6E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-6VQC13MZ6E');
    </script>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda Tech | Pandish√∫ ‚Äî Cat√°logo con precios en tiempo real</title>
    <meta name="description"
        content="Compra routers, switches, c√°maras, laptops y m√°s con precios reales de Ingram Micro. Cotiza al momento por WhatsApp.">

    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: { 850: '#151e2e', 950: '#020617' },
                        brand: { purple: '#7c3aed', blue: '#2563eb', cyan: '#0891b2', dark: '#0f172a' }
                    },
                    fontFamily: { sans: ['"Plus Jakarta Sans"', 'sans-serif'] },
                }
            }
        }
    </script>

    <style>
        :root {
            --accent: #6366f1;
            --accent-glow: rgba(99, 102, 241, 0.25);
        }

        body {
            background-color: #0f172a;
            color: #f8fafc;
        }

        .glass-nav {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        /* Search */
        .search-glow:focus-within {
            box-shadow: 0 0 0 2px var(--accent), 0 0 40px var(--accent-glow);
        }

        /* Product Cards */
        .product-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.95));
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 20px;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .product-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 50% 0%, rgba(99, 102, 241, 0.08), transparent 70%);
            opacity: 0;
            transition: opacity 0.35s ease;
        }

        .product-card:hover {
            transform: translateY(-6px);
            border-color: rgba(99, 102, 241, 0.35);
            box-shadow: 0 24px 48px -12px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(99, 102, 241, 0.2);
        }

        .product-card:hover::before {
            opacity: 1;
        }

        /* Vendor badge */
        .vendor-badge {
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 4px 10px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #94a3b8;
        }

        /* Availability dot */
        .dot-green {
            background: #22c55e;
            box-shadow: 0 0 8px #22c55e;
        }

        .dot-yellow {
            background: #eab308;
            box-shadow: 0 0 8px #eab308;
        }

        .dot-red {
            background: #ef4444;
            box-shadow: 0 0 8px #ef4444;
        }

        /* Skeleton */
        .skeleton {
            background: linear-gradient(90deg, rgba(30, 41, 59, 0.8) 25%, rgba(51, 65, 85, 0.6) 50%, rgba(30, 41, 59, 0.8) 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 12px;
        }

        @keyframes shimmer {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* Filter chip */
        .filter-chip {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 999px;
            padding: 6px 16px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            color: #94a3b8;
            white-space: nowrap;
        }

        .filter-chip:hover,
        .filter-chip.active {
            background: rgba(99, 102, 241, 0.2);
            border-color: rgba(99, 102, 241, 0.5);
            color: #a5b4fc;
        }

        /* WhatsApp btn */
        .btn-wa {
            background: linear-gradient(135deg, #25d366, #128c52);
            border-radius: 12px;
            transition: all 0.25s;
        }

        .btn-wa:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.35);
        }

        /* Price tag */
        .price-tag {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            border: 1px solid rgba(99, 102, 241, 0.25);
            border-radius: 10px;
            padding: 8px 14px;
        }

        /* Hero gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #818cf8 0%, #c084fc 50%, #38bdf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* DEMO banner */
        .demo-banner {
            background: linear-gradient(90deg, rgba(245, 158, 11, 0.15), rgba(239, 68, 68, 0.15));
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 12px;
        }

        /* Scroll custom */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 999px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #6366f1;
        }

        /* Mobile menu */
        #mobile-menu {
            display: none;
        }

        #mobile-menu.open {
            display: block;
        }

        /* modal */
        #modal-backdrop.show {
            display: flex;
        }
    </style>
</head>

<body class="antialiased min-h-screen">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         NAVIGATION
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <nav class="sticky top-0 w-full z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/5 py-3">
        <div class="max-w-7xl mx-auto flex justify-between items-center px-6">
            <a href="index.html" class="flex items-center gap-3">
                <img src="Pandishu-Logo-26.png" alt="Pandish√∫ Logo"
                    class="h-10 w-10 rounded-xl object-cover ring-1 ring-white/10"
                    onerror="this.src='https://ui-avatars.com/api/?name=P&background=6366f1&color=fff'">
                <div class="flex flex-col leading-none">
                    <span class="text-xl font-black tracking-tight text-white uppercase italic">Pandish√∫</span>
                    <span class="text-[10px] text-indigo-400 font-bold tracking-[0.2em] uppercase">Tech Solutions</span>
                </div>
            </a>
            <div class="hidden md:flex items-center gap-6 text-xs font-bold uppercase tracking-widest text-slate-400">
                <a href="index.html" class="hover:text-white transition-colors">Inicio</a>
                <a href="catalogo.html" class="hover:text-white transition-colors">Cat√°logo</a>
                <a href="hardware.html" class="hover:text-white transition-colors">Hardware PC</a>
                <a href="proyectos.html" class="hover:text-white transition-colors">Proyectos</a>

                <!-- Highlighted Tienda Link -->
                <a href="tienda.html" class="relative group flex items-center gap-2">
                    <span
                        class="absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg blur opacity-40 group-hover:opacity-100 transition duration-300"></span>
                    <span
                        class="relative text-white font-black tracking-widest border border-indigo-500/50 bg-slate-900 px-4 py-1.5 rounded-lg flex items-center gap-2 transition-all group-hover:bg-slate-800">
                        <i data-lucide="shopping-cart" class="w-4 h-4 text-indigo-400"></i> Tienda
                    </span>
                </a>

                <a href="https://wa.me/525662580512" target="_blank"
                    class="bg-white/10 hover:bg-white/20 text-white px-5 py-2 rounded-full transition-all border border-white/10 flex items-center gap-2">
                    <i data-lucide="message-circle" class="w-4 h-4"></i> Agendar
                </a>
            </div>
            <button onclick="toggleMenu()"
                class="md:hidden text-white p-2 rounded-xl border border-white/10 hover:border-indigo-500/50 transition bg-slate-800/50">
                <i data-lucide="menu" class="w-5 h-5"></i>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu"
            class="hidden px-6 pt-4 pb-6 border-t border-white/5 mt-3 flex-col gap-4 text-sm font-bold uppercase tracking-widest text-slate-400 bg-slate-900/95 backdrop-blur-xl absolute w-full shadow-2xl">
            <a href="index.html" class="hover:text-white transition-colors">Inicio</a>
            <a href="catalogo.html" class="hover:text-white transition-colors">Cat√°logo</a>
            <a href="hardware.html" class="hover:text-white transition-colors">Hardware PC</a>
            <a href="proyectos.html" class="hover:text-white transition-colors">Proyectos</a>
            <a href="tienda.html" class="text-indigo-400 flex items-center gap-2 border-l-2 border-indigo-500 pl-3">
                <i data-lucide="shopping-cart" class="w-4 h-4"></i> Tienda Oficial
            </a>
            <a href="https://wa.me/525662580512" target="_blank"
                class="text-green-400 flex items-center gap-2 border-t border-white/10 pt-4 mt-2">
                <i data-lucide="message-circle" class="w-4 h-4"></i> WhatsApp
            </a>
        </div>
    </nav>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         HERO
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <header class="relative overflow-hidden py-20 px-6 border-b border-white/5">
        <!-- Background elements -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
            <div class="absolute -top-40 -left-40 w-[600px] h-[600px] bg-indigo-600/10 rounded-full blur-[120px]"></div>
            <div class="absolute -bottom-40 -right-40 w-[500px] h-[500px] bg-purple-600/10 rounded-full blur-[120px]">
            </div>
            <div class="absolute inset-0"
                style="background-image: linear-gradient(rgba(99,102,241,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(99,102,241,0.03) 1px, transparent 1px); background-size: 40px 40px;">
            </div>
        </div>

        <div class="max-w-4xl mx-auto text-center relative z-10">
            <div
                class="inline-flex items-center gap-2 bg-indigo-500/10 border border-indigo-500/20 rounded-full px-5 py-2 text-xs font-bold uppercase tracking-widest text-indigo-400 mb-8">
                <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                Disponibilidad Inmediata ‚Ä¢ Precios Actualizados
            </div>
            <h1 class="text-5xl md:text-7xl font-black tracking-tight text-white uppercase italic mb-6 leading-none">
                Soluciones<br><span class="gradient-text">Tech & Hardware</span>
            </h1>
            <p class="text-slate-400 text-xl font-light leading-relaxed max-w-2xl mx-auto mb-10">
                Explora lo √∫ltimo en racks, servidores, seguridad y redes de alta gama.
                Equipamiento profesional con el respaldo y servicio de <strong class="text-white">Pandish√∫</strong>.
            </p>

            <!-- Search Bar -->
            <div class="relative max-w-2xl mx-auto">
                <div id="search-container"
                    class="search-glow flex items-center bg-slate-800/80 border border-white/10 rounded-2xl px-4 py-3 transition-all duration-300">
                    <i data-lucide="search" class="w-5 h-5 text-slate-400 flex-shrink-0 mr-3"></i>
                    <input id="search-input" type="text"
                        placeholder='Busca por nombre, SKU o marca... ej: "Ubiquiti UniFi", "Dell Laptop"'
                        class="flex-1 bg-transparent text-white placeholder-slate-500 text-sm font-medium outline-none"
                        onkeydown="if(event.key==='Enter') doSearch()">
                    <button onclick="doSearch()" id="search-btn"
                        class="ml-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-xs px-5 py-2.5 rounded-xl transition-all uppercase tracking-wider flex items-center gap-2">
                        <i data-lucide="zap" class="w-3.5 h-3.5"></i>
                        Buscar
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
          LIVE API STATUS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="max-w-7xl mx-auto px-6 mt-6">
        <div class="bg-indigo-500/10 border border-indigo-500/20 rounded-xl flex items-center gap-4 px-5 py-3">
            <i data-lucide="check-circle" class="w-5 h-5 text-indigo-400 flex-shrink-0"></i>
            <div>
                <p class="text-indigo-300 text-sm font-bold">Cat√°logo Digital Activo</p>
                <p class="text-indigo-200/60 text-xs">Consulta disponibilidad y precios en tiempo real para todos
                    nuestros productos profesionales.</p>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         FILTERS + GRID
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <main class="max-w-7xl mx-auto px-6 py-10">

        <!-- Filter chips -->
        <div class="flex flex-wrap items-center gap-3 mb-8">
            <span class="text-xs text-slate-500 font-bold uppercase tracking-widest mr-2">Filtrar:</span>
            <button class="filter-chip active" onclick="filterBy('all', this)" id="chip-all">Todos</button>
            <button class="filter-chip" onclick="filterBy('networking', this)">
                <span class="mr-1">üåê</span> Networking
            </button>
            <button class="filter-chip" onclick="filterBy('security', this)">
                <span class="mr-1">üì∑</span> Seguridad
            </button>
            <button class="filter-chip" onclick="filterBy('laptop', this)">
                <span class="mr-1">üíª</span> Laptops
            </button>
            <button class="filter-chip" onclick="filterBy('server', this)">
                <span class="mr-1">üñ•Ô∏è</span> Servidores
            </button>
            <button class="filter-chip" onclick="filterBy('storage', this)">
                <span class="mr-1">üíæ</span> Almacenamiento
            </button>
            <button class="filter-chip" onclick="filterBy('printing', this)">
                <span class="mr-1">üñ®Ô∏è</span> Impresi√≥n
            </button>
        </div>

        <!-- Results info bar -->
        <div class="flex items-center justify-between mb-6">
            <p class="text-slate-400 text-sm font-medium">
                Mostrando <span id="result-count" class="text-white font-bold">18</span> productos
                <span id="search-term-display" class="text-indigo-400"></span>
            </p>
            <div class="flex items-center gap-3">
                <span class="text-xs text-slate-500 uppercase tracking-wider">Ordenar:</span>
                <select id="sort-select" onchange="sortProducts()"
                    class="bg-slate-800 border border-white/10 text-slate-300 text-xs rounded-xl px-4 py-2 outline-none cursor-pointer hover:border-indigo-500/50 transition">
                    <option value="default">Relevancia</option>
                    <option value="price-asc">Precio: Menor a mayor</option>
                    <option value="price-desc">Precio: Mayor a menor</option>
                    <option value="vendor">Marca A-Z</option>
                </select>
            </div>
        </div>

        <!-- Product Grid -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Products rendered by JS -->
        </div>

        <!-- Empty state -->
        <div id="empty-state" class="hidden py-32 text-center">
            <div class="text-6xl mb-6">üîç</div>
            <h3 class="text-2xl font-black text-white uppercase italic mb-3">Sin resultados</h3>
            <p class="text-slate-400 text-sm">Intenta con otro t√©rmino de b√∫squeda</p>
            <button onclick="resetSearch()"
                class="mt-6 bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-xs px-6 py-3 rounded-xl transition uppercase tracking-wider">
                Ver todos los productos
            </button>
        </div>

        <!-- Pagination -->
        <div class="flex justify-center gap-3 mt-14">
            <button
                class="bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 px-5 py-2.5 rounded-xl text-sm font-bold transition flex items-center gap-2">
                <i data-lucide="chevron-left" class="w-4 h-4"></i> Anterior
            </button>
            <div class="flex items-center gap-2">
                <button class="bg-indigo-600 text-white w-10 h-10 rounded-xl text-sm font-bold">1</button>
                <button
                    class="bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 w-10 h-10 rounded-xl text-sm font-bold transition">2</button>
                <button
                    class="bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 w-10 h-10 rounded-xl text-sm font-bold transition">3</button>
                <span class="text-slate-600 px-2">...</span>
                <button
                    class="bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 w-10 h-10 rounded-xl text-sm font-bold transition">12</button>
            </div>
            <button
                class="bg-white/5 hover:bg-white/10 border border-white/10 text-slate-400 px-5 py-2.5 rounded-xl text-sm font-bold transition flex items-center gap-2">
                Siguiente <i data-lucide="chevron-right" class="w-4 h-4"></i>
            </button>
        </div>
    </main>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         CTA SECTION
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section class="bg-slate-900 border-t border-white/5 py-20 px-6 mt-10">
        <div class="max-w-4xl mx-auto text-center">
            <div
                class="inline-flex items-center gap-2 bg-green-500/10 border border-green-500/20 rounded-full px-5 py-2 text-xs font-bold uppercase tracking-widest text-green-400 mb-8">
                <i data-lucide="shield-check" class="w-3.5 h-3.5"></i>
                Garant√≠a Pandish√∫
            </div>
            <h2 class="text-4xl md:text-5xl font-black text-white uppercase italic mb-6">
                ¬øNo encontraste lo que buscas?
            </h2>
            <p class="text-slate-400 text-lg font-light max-w-2xl mx-auto mb-10">
                Contamos con acceso a las mejores marcas globales para conseguir pr√°cticamente cualquier componente
                tech. Escr√≠benos y cotizamos en minutos.
            </p>
            <a href="https://wa.me/525662580512?text=Hola%20Pandish%C3%BA!%20Busco%20un%20producto%20que%20no%20vi%20en%20la%20tienda..."
                target="_blank"
                class="inline-flex items-center gap-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-400 hover:to-emerald-500 text-white font-black text-sm px-10 py-4 rounded-2xl transition-all shadow-lg shadow-green-500/20 hover:shadow-green-500/30 hover:scale-105 uppercase tracking-wider">
                <i data-lucide="message-circle" class="w-5 h-5"></i>
                Cotizar por WhatsApp
            </a>
        </div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         FOOTER
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <footer class="py-12 px-6 border-t border-white/5 text-center bg-slate-950">
        <p class="text-slate-500 text-xs font-bold uppercase tracking-[0.2em] mb-4">Pandish√∫ ¬© 2025 ‚Ä¢ Hardware &
            Soluciones Tecnol√≥gicas</p>
        <div class="flex justify-center gap-6 text-xs text-slate-600 font-medium">
            <a href="index.html" class="hover:text-indigo-400 transition">Inicio</a>
            <a href="catalogo.html" class="hover:text-indigo-400 transition">Cat√°logo</a>
            <a href="proyectos.html" class="hover:text-indigo-400 transition">Proyectos</a>
            <a href="privacidad.html" class="hover:text-indigo-400 transition">Privacidad</a>
        </div>
    </footer>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         QUICK QUOTE MODAL
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="modal-backdrop"
        class="fixed inset-0 z-[200] hidden bg-slate-950/90 backdrop-blur-xl items-center justify-center p-4"
        onclick="closeModal(event)">
        <div class="bg-slate-900 border border-white/10 rounded-3xl max-w-md w-full p-8 relative"
            onclick="event.stopPropagation()">
            <button onclick="closeModal()" class="absolute top-5 right-5 text-slate-500 hover:text-white transition">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
            <div id="modal-product-badge" class="vendor-badge inline-block mb-4">‚Äî</div>
            <h3 id="modal-title" class="text-2xl font-black text-white uppercase italic mb-2">Producto</h3>
            <p id="modal-sku" class="text-xs text-slate-500 font-mono mb-1">SKU: ‚Äî</p>
            <p id="modal-vendor-part" class="text-xs text-slate-500 font-mono mb-6">Vendor PN: ‚Äî</p>
            <div class="bg-slate-800/60 rounded-2xl p-4 mb-6">
                <div class="flex justify-between items-center mb-3">
                    <span class="text-slate-400 text-sm">Tu precio de reventa</span>
                    <span id="modal-price" class="text-2xl font-black text-indigo-300">$‚Äî</span>
                </div>
                <div class="flex justify-between items-center">
                    <span class="text-slate-400 text-sm">Disponibilidad</span>
                    <span id="modal-availability" class="text-green-400 text-sm font-bold">‚Äî</span>
                </div>
            </div>
            <a id="modal-wa-link" href="#" target="_blank"
                class="btn-wa flex items-center justify-center gap-3 text-white font-black text-sm w-full py-4 rounded-2xl uppercase tracking-wider">
                <i data-lucide="message-circle" class="w-5 h-5"></i>
                Cotizar por WhatsApp
            </a>
            <p class="text-center text-slate-600 text-xs mt-4">Respuesta en minutos ¬∑ Env√≠o incluido en pedidos mayores
            </p>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         JAVASCRIPT
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <script>
        lucide.createIcons();

        lucide.createIcons();

        /* ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ */
        const API_BASE = 'https://us-central1-pandishu-web-1d860.cloudfunctions.net';

        let filteredProducts = [];
        let currentFilter = 'all';
        let currentSearch = '';
        let isLoading = false;

        /* ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ */
        function renderSkeletons() {
            const grid = document.getElementById('product-grid');
            grid.innerHTML = Array(8).fill(0).map(() => `
                <div class="product-card p-5 flex flex-col gap-4">
                    <div class="flex justify-between">
                        <div class="skeleton w-20 h-4"></div>
                        <div class="skeleton w-16 h-4"></div>
                    </div>
                    <div class="skeleton w-full h-6"></div>
                    <div class="skeleton w-3/4 h-4"></div>
                    <div class="skeleton w-full h-24 mb-2"></div>
                    <div class="skeleton w-full h-10"></div>
                </div>
            `).join('');
        }

        function renderProducts(products) {
            const grid = document.getElementById('product-grid');
            const empty = document.getElementById('empty-state');
            const count = document.getElementById('result-count');

            count.textContent = products.length;

            if (products.length === 0 && !isLoading) {
                grid.innerHTML = '';
                empty.classList.remove('hidden');
                return;
            }
            empty.classList.add('hidden');

            grid.innerHTML = products.map(p => {
                const price = p.price || 0;
                const retailPrice = p.retailPrice || price * 1.35;
                const hasStock = p.availability?.availableQuantity > 0;
                const stockText = hasStock ? `En Stock (${p.availability.availableQuantity})` : 'Consultar disponibilidad';

                return `
                <div class="product-card p-5 flex flex-col gap-4">
                    <!-- Header -->
                    <div class="flex items-start justify-between gap-2">
                        <div>
                            <span class="vendor-badge">${p.vendorName || 'General'}</span>
                        </div>
                        <div class="flex items-center gap-1.5 flex-shrink-0">
                            <span class="w-1.5 h-1.5 rounded-full ${hasStock ? 'dot-green' : 'dot-yellow'}"></span>
                            <span class="text-xs font-bold ${hasStock ? 'text-green-400' : 'text-yellow-400'}">${stockText}</span>
                        </div>
                    </div>

                    <!-- Product name -->
                    <div>
                        <h3 class="text-white font-black text-sm leading-snug mb-1 line-clamp-2" title="${p.description}">${p.description}</h3>
                        <p class="text-slate-500 text-[10px] font-mono">SKU: ${p.ingramPartNumber} | PN: ${p.vendorPartNumber}</p>
                    </div>

                    <!-- Price -->
                    <div class="price-tag">
                        <div class="flex items-baseline justify-between">
                            <div>
                                <p class="text-slate-500 text-[10px] uppercase tracking-wider font-bold mb-0.5">Precio estimado</p>
                                <p class="text-xl font-black ${price > 0 ? 'text-indigo-300' : 'text-slate-500'}">
                                    ${price > 0 ? `$${price.toFixed(2)}` : 'Sujeto a cotizaci√≥n'} 
                                    <span class="text-xs text-slate-500 font-normal">USD</span>
                                </p>
                            </div>
                            <div class="text-right">
                                <p class="text-slate-600 text-[10px]">PVP Ref: $${retailPrice.toFixed(2)}</p>
                            </div>
                        </div>
                    </div>

                    <!-- CTA -->
                    <button onclick="openModal('${p.ingramPartNumber}')"
                        class="btn-wa mt-auto flex items-center justify-center gap-2 text-white font-black text-xs py-3 rounded-xl uppercase tracking-wider w-full">
                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                        Cotizar WhatsApp
                    </button>
                </div>
            `}).join('');

            lucide.createIcons();
        }

        /* ‚îÄ‚îÄ‚îÄ API CALLS ‚îÄ‚îÄ‚îÄ */
        async function fetchProducts(query = '', category = '') {
            if (isLoading) return;
            isLoading = true;
            renderSkeletons();

            try {
                // 1. Search Catalog
                const searchUrl = new URL(`${API_BASE}/searchProducts`);
                if (query) searchUrl.searchParams.append('keyword', query);
                if (category && category !== 'all') searchUrl.searchParams.append('keyword', category); // Usamos keyword para simplificar en sandbox

                const response = await fetch(searchUrl);
                const data = await response.json();

                if (!data.catalog || data.catalog.length === 0) {
                    filteredProducts = [];
                    renderProducts([]);
                    return;
                }

                let products = data.catalog;

                // 2. Get Price & Availability for these SKUs
                const skus = products.map(p => p.ingramPartNumber);
                const paResponse = await fetch(`${API_BASE}/getPriceAndAvailability`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ skus })
                });

                if (paResponse.ok) {
                    const paData = await paResponse.json();
                    // Merge PA data into products
                    products = products.map(p => {
                        const paInfo = paData.find(pa => pa.ingramPartNumber === p.ingramPartNumber);
                        return {
                            ...p,
                            price: paInfo?.availability?.totalAvailability > 0 ? paInfo.pricing?.customerPrice : 0,
                            availability: paInfo?.availability || { availableQuantity: 0 }
                        };
                    });
                }

                filteredProducts = products;
                renderProducts(filteredProducts);
            } catch (error) {
                console.error('Fetch error:', error);
                // Fallback a vacio o mensaje error
                renderProducts([]);
            } finally {
                isLoading = false;
            }
        }

        /* ‚îÄ‚îÄ‚îÄ FILTER ‚îÄ‚îÄ‚îÄ */
        function filterBy(cat, btn) {
            currentFilter = cat;
            document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
            btn.classList.add('active');
            fetchProducts(currentSearch, currentFilter);
        }

        /* ‚îÄ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ‚îÄ */
        function doSearch() {
            currentSearch = document.getElementById('search-input').value.trim();
            fetchProducts(currentSearch, currentFilter);
        }

        function resetSearch() {
            currentSearch = '';
            document.getElementById('search-input').value = '';
            currentFilter = 'all';
            document.querySelectorAll('.filter-chip').forEach((c, i) => {
                c.classList.remove('active');
                if (i === 0) c.classList.add('active');
            });
            fetchProducts();
        }

        /* ‚îÄ‚îÄ‚îÄ SORT ‚îÄ‚îÄ‚îÄ */
        function sortProducts() {
            const sort = document.getElementById('sort-select').value;
            let sorted = [...filteredProducts];
            if (sort === 'price-asc') sorted.sort((a, b) => (a.price || 0) - (b.price || 0));
            else if (sort === 'price-desc') sorted.sort((a, b) => (b.price || 0) - (a.price || 0));
            else if (sort === 'vendor') sorted.sort((a, b) => a.vendorName.localeCompare(b.vendorName));
            renderProducts(sorted);
        }

        /* ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ */
        function openModal(sku) {
            const p = filteredProducts.find(x => x.ingramPartNumber === sku);
            if (!p) return;

            const price = p.price || 0;
            const hasStock = p.availability?.availableQuantity > 0;

            document.getElementById('modal-product-badge').textContent = p.vendorName || 'Ingram';
            document.getElementById('modal-title').textContent = p.description;
            document.getElementById('modal-sku').textContent = `SKU: ${p.ingramPartNumber}`;
            document.getElementById('modal-vendor-part').textContent = `Vendor PN: ${p.vendorPartNumber}`;
            document.getElementById('modal-price').textContent = price > 0 ? `$${price.toFixed(2)} USD` : 'Cotizaci√≥n requerida';
            document.getElementById('modal-availability').textContent = hasStock ? `‚úÖ ${p.availability.availableQuantity} unidades en stock` : '‚è≥ Consultar disponibilidad / Backorder';

            const msg = encodeURIComponent(`¬°Hola Pandish√∫! Me interesa cotizar:\n\nüî∑ *${p.description}*\nSKU: ${p.ingramPartNumber}\nPN: ${p.vendorPartNumber}\n\n¬øPodr√≠as darme el precio final con env√≠o?`);
            document.getElementById('modal-wa-link').href = `https://wa.me/525662580512?text=${msg}`;

            document.getElementById('modal-backdrop').classList.add('show');
            document.getElementById('modal-backdrop').style.display = 'flex';
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeModal(e) {
            if (e && e.target !== document.getElementById('modal-backdrop')) return;
            document.getElementById('modal-backdrop').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        /* ‚îÄ‚îÄ‚îÄ MOBILE MENU ‚îÄ‚îÄ‚îÄ */
        function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                menu.classList.add('flex');
            } else {
                menu.classList.remove('flex');
                menu.classList.add('hidden');
            }
        }

        /* ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ */
        // Carga inicial (b√∫squeda por defecto)
        fetchProducts('Ubiquiti');

    </script>
</body>

</html>